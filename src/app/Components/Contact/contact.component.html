<ion-app>
    <ion-header>
        <ion-toolbar>
            <ion-buttons slot="start">
                <ion-back-button defaultHref="/"></ion-back-button>
            </ion-buttons>
            <ion-title>Contact Me</ion-title>
        </ion-toolbar>
    </ion-header>

    <ion-content [style.background-color]="isDarkMode ? '#121212' : '#ffffff'">
        <form [formGroup]="userForm" (ngSubmit)="sendMessage()">
            <ion-card [style.box-shadow]="isDarkMode ? '0 4px 8px rgba(0, 0, 0, 0.6)' : '0 4px 8px rgba(0, 0, 0, 0.2)'"
                [style.border-radius]="'12px'" [style.background-color]="isDarkMode ? '#1e1e1e' : '#ffffff'">
                <ion-card-header>
                    <ion-card-title [style.color]="isDarkMode ? '#ffffff' : '#000000'">Get in Touch</ion-card-title>
                </ion-card-header>

                <ion-card-content [style.color]="isDarkMode ? '#ffffff' : '#000000'">
                    <p>If you would like to get in touch, feel free to send me a message through the form below.</p>

                    <ion-grid>
                        <ion-row>
                            <ion-col size="12">
                                <ion-item [style.background-color]="isDarkMode ? '#333333' : '#f0f0f0'">
                                    <ion-label position="floating"
                                        [style.color]="isDarkMode ? '#ffffff' : '#000000'">Your Name</ion-label>
                                    <ion-input formControlName="name" type="text"></ion-input>
                                </ion-item>
                                <ion-text color="danger">
                                    <small
                                        *ngIf="userForm.get('name')?.invalid && (userForm.get('name')?.dirty || userForm.get('name')?.touched)">
                                        Το
                                        πεδίο
                                        είναι υποχρεωτικό.</small>
                                </ion-text>
                            </ion-col>
                        </ion-row>

                        <ion-row>
                            <ion-col size="12">
                                <ion-item [style.background-color]="isDarkMode ? '#333333' : '#f0f0f0'">
                                    <ion-label position="floating"
                                        [style.color]="isDarkMode ? '#ffffff' : '#000000'">Your Email</ion-label>
                                    <ion-input formControlName="email" type="email"></ion-input>
                                </ion-item>
                                <ion-text color="danger">
                                    <li
                                        *ngIf="userForm.get('email')?.errors?.['required'] && (userForm.get('email')?.dirty || userForm.get('email')?.touched)">
                                        <small>Το email είναι υποχρεωτικό.</small>
                                    </li>
                                    <li *ngIf="userForm.get('email')?.errors?.['email']">
                                        <small>Το email δεν είναι έγκυρο.</small>
                                    </li>
                                </ion-text>
                            </ion-col>
                        </ion-row>

                        <ion-item [style.background-color]="isDarkMode ? '#333333' : '#f0f0f0'">
                            <ion-label position="floating" [style.color]="isDarkMode ? '#ffffff' : '#000000'">Your
                                Message</ion-label>
                            <ion-textarea formControlName="message"></ion-textarea>
                        </ion-item>
                        <ion-text color="danger">
                            <small
                                *ngIf="userForm.get('message')?.invalid && (userForm.get('message')?.dirty || userForm.get('message')?.touched)">
                                Το πεδίο είναι υποχρεωτικό.
                            </small>
                        </ion-text>
                    </ion-grid>

                    <ion-button expand="full" type="submit"
                        [style.background-color]="isDarkMode ? '#4caf50' : '#2196f3'"
                        [style.color]="isDarkMode ? '#000000' : '#ffffff'">
                        Send Message
                    </ion-button>
                </ion-card-content>
            </ion-card>
        </form>
        <div *ngIf="messageSent" [style.color]="isDarkMode ? '#ffffff' : '#000000'"
            style="text-align: center; margin-top: 20px;">
            {{displayMessage}}
        </div>
    </ion-content>

</ion-app>